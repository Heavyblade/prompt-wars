- content_for :title, "My Time-Off Requests"

%h1.text-2xl.font-semibold.mb-4.text-white My Time-Off Requests

%div.mb-4
  = link_to "New Request", new_time_off_request_path, class: "px-3 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded"

.relative.overflow-x-auto.shadow-md.sm:rounded-lg
  %table.w-full.text-sm.text-left.text-gray-400.dark:text-gray-300
    %thead.text-xs.uppercase.bg-gray-50.dark:bg-gray-700.dark:text-gray-400
      %tr
        %th.px-6.py-3 Type
        %th.px-6.py-3 Start
        %th.px-6.py-3 End
        %th.px-6.py-3 Status
        %th.px-6.py-3 Actions
    %tbody
      - if @time_off_requests.any?
        - @time_off_requests.each do |r|
          %tr.border-b.dark:border-gray-700.odd:bg-white.odd:dark:bg-gray-900.even:bg-gray-50.even:dark:bg-gray-800
            %td.px-6.py-4.font-medium.text-gray-900.dark:text-white= r.time_off_type.name
            %td.px-6.py-4= r.start_date
            %td.px-6.py-4= r.end_date
            %td.px-6.py-4= status_badge(r.status)
            %td.px-6.py-4
              = link_to "Show", time_off_request_path(r), class: "text-blue-400 hover:text-blue-300"
              - if r.pending?
                = link_to "Cancel", time_off_request_path(r), data: { turbo_method: :delete, turbo_confirm: "Cancel this request?" }, class: "ml-2 text-red-400 hover:text-red-300"
      - else
        %tr
          %td.px-6.py-6.text-center{ colspan: 5 }
            %span.text-gray-300 No requests yet.
            = link_to " Create one", new_time_off_request_path, class: "text-blue-400 hover:text-blue-300"
