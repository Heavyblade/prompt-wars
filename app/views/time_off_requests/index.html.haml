- content_for :title, "My Time-Off Requests"

%h1.text-2xl.font-semibold.mb-4 My Time-Off Requests

%div.mb-4
  = link_to "New Request", new_time_off_request_path, class: "px-3 py-2 bg-blue-600 text-white rounded"

%table.min-w-full.divide-y.divide-gray-700.mt-4
  %thead.bg-gray-700
    %tr
      %th Type
      %th Start
      %th End
      %th Status
      %th Actions
  %tbody.divide-y.divide-gray-800
    - if @time_off_requests.any?
      - @time_off_requests.each do |r|
        %tr
          %td= r.time_off_type.name
          %td= r.start_date
          %td= r.end_date
          %td= status_badge(r.status)
          %td
            = link_to "Show", time_off_request_path(r), class: "text-blue-500"
            - if r.pending?
              = link_to "Cancel", time_off_request_path(r), data: { turbo_method: :delete, turbo_confirm: "Cancel this request?" }, class: "ml-2 text-red-500"
    - else
      %tr
        %td{ colspan: 5, class: "text-center text-gray-300 py-6" } No requests yet. #{link_to("Create one", new_time_off_request_path, class: "text-blue-400")}
