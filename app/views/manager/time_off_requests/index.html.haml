- content_for :title, "Team Time-Off Requests"

%h1.text-2xl.font-semibold.mb-4.text-white Team Time-Off Requests

.relative.overflow-x-auto.shadow-md.sm:rounded-lg
  %table.w-full.text-sm.text-left.text-gray-400.dark:text-gray-300
    %thead.text-xs.uppercase.bg-gray-50.dark:bg-gray-700.dark:text-gray-400
      %tr
        %th.px-6.py-3 Employee
        %th.px-6.py-3 Type
        %th.px-6.py-3 Start
        %th.px-6.py-3 End
        %th.px-6.py-3 Status
        %th.px-6.py-3 Actions
    %tbody
      - if @time_off_requests.any?
        - @time_off_requests.each do |r|
          %tr.border-b.dark:border-gray-700.odd:bg-white.odd:dark:bg-gray-900.even:bg-gray-50.even:dark:bg-gray-800
            %td.px-6.py-4.font-medium.text-gray-900.dark:text-white= r.user.full_name.presence || r.user.email
            %td.px-6.py-4= r.time_off_type.name
            %td.px-6.py-4= r.start_date
            %td.px-6.py-4= r.end_date
            %td.px-6.py-4= status_badge(r.status)
            %td.px-6.py-4
              - if r.pending?
                = button_to "Approve", approve_time_off_request_path(r), method: :post, class: "px-2 py-1 bg-green-600 hover:bg-green-500 text-white rounded"
                = button_to "Deny", deny_time_off_request_path(r), method: :post, class: "ml-2 px-2 py-1 bg-red-600 hover:bg-red-500 text-white rounded"
      - else
        %tr
          %td.px-6.py-6.text-center{ colspan: 6 }
            %span.text-gray-300 No team requests found.
